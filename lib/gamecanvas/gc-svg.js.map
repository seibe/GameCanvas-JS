{"version":3,"sources":["../../src/gamecanvas/gc-svg.js"],"names":["GameCanvasBase","GameBase","SVG","GameCanvas","constructor","_color","Color","_draw","undefined","setColor","r","g","b","toHex","fillRect","x","y","w","h","rect","fill","move","clearScreen","clear","drawImage","key","img","_imageMap","get","complete","image","src","drawString","str","plain","font","size","_fontSize","family","_fontFamily","_onLoad","svg","document","createElementNS","setAttribute","getElementsByTagName","item","appendChild","_onResizeWindow","gc","Game"],"mappings":"AACA,OAAOA,cAAP,MAA2B,2BAA3B;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,GAAP,MAAgB,kBAAhB;;AAEA,MAAMC,UAAN,SAAyBH,cAAzB,CAAwC;AAIpCI,EAAAA,WAAW,GAAG;AACV;AADU,SAHdC,MAGc,GAHL,IAAIH,GAAG,CAACI,KAAR,CAAc,MAAd,CAGK;AAAA,SAFdC,KAEc,GAFNC,SAEM;AAEb;;AAEDC,EAAAA,QAAQ,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAU;AACd,SAAKP,MAAL,GAAc,IAAIH,GAAG,CAACI,KAAR,CAAc;AAAEI,MAAAA,CAAF;AAAKC,MAAAA,CAAL;AAAQC,MAAAA;AAAR,KAAd,EAA2BC,KAA3B,EAAd;AACH;;AACDC,EAAAA,QAAQ,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAUC,CAAV,EAAa;AACjB,SAAKX,KAAL,CAAWY,IAAX,CAAgBF,CAAhB,EAAmBC,CAAnB,EAAsBE,IAAtB,CAA2B,KAAKf,MAAhC,EAAwCgB,IAAxC,CAA6CN,CAA7C,EAAgDC,CAAhD;AACH;;AACDM,EAAAA,WAAW,GAAG;AACV,SAAKf,KAAL,CAAWgB,KAAX;AACH;;AACDC,EAAAA,SAAS,CAACC,GAAD,EAAMV,CAAN,EAASC,CAAT,EAAY;AACjB,QAAMU,GAAG,GAAG,KAAKC,SAAL,CAAeC,GAAf,CAAmBH,GAAnB,CAAZ;;AACA,QAAIC,GAAG,IAAIA,GAAG,CAACG,QAAf,EAAyB,KAAKtB,KAAL,CAAWuB,KAAX,CAAiBJ,GAAG,CAACK,GAArB,EAA0BV,IAA1B,CAA+BN,CAA/B,EAAkCC,CAAlC;AAC5B;;AACDgB,EAAAA,UAAU,CAACC,GAAD,EAAMlB,CAAN,EAASC,CAAT,EAAY;AAClB,SAAKT,KAAL,CAAW2B,KAAX,CAAiBD,GAAjB,EAAsBZ,IAAtB,CAA2BN,CAA3B,EAA8BC,CAA9B,EAAiCmB,IAAjC,CAAsC;AAAEf,MAAAA,IAAI,EAAE,KAAKf,MAAb;AAAqB+B,MAAAA,IAAI,EAAE,KAAKC,SAAhC;AAA2CC,MAAAA,MAAM,EAAE,KAAKC;AAAxD,KAAtC;AACH;;AAEDC,EAAAA,OAAO,GAAG;AACN,QAAMC,GAAG,GAAGC,QAAQ,CAACC,eAAT,CAAyB,4BAAzB,EAAuD,KAAvD,CAAZ;AACAF,IAAAA,GAAG,CAACG,YAAJ,CAAiB,IAAjB,EAAuB,YAAvB;AACAF,IAAAA,QAAQ,CAACG,oBAAT,CAA8B,MAA9B,EAAsCC,IAAtC,CAA2C,CAA3C,EAA8CC,WAA9C,CAA0DN,GAA1D;AACA,SAAKlC,KAAL,GAAaL,GAAG,CAACA,GAAJ,CAAQuC,GAAR,CAAb;;AACA,UAAMD,OAAN,CAAcC,GAAd;AACH;;AACDO,EAAAA,eAAe,GAAG,CACd;AACA;AACH;;AAnCmC;;AAsCxC,IAAMC,EAAE,GAAG,IAAI9C,UAAJ,EAAX;;AAEA,MAAM+C,IAAN,SAAmBjD,QAAnB,CAA4B;AACxBG,EAAAA,WAAW,GAAG;AACV,UAAM6C,EAAN;AACH;;AAHuB;;AAM5B,SAASA,EAAT,EAAaC,IAAI,IAAIjD,QAArB","sourcesContent":["\r\nimport GameCanvasBase from \"./types/GameCanvasBase.js\";\r\nimport GameBase from \"./types/GameBase.js\";\r\nimport SVG from \"../svg.js/svg.js\";\r\n\r\nclass GameCanvas extends GameCanvasBase {\r\n    _color = new SVG.Color(\"#000\");\r\n    _draw = undefined;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    setColor(r, g, b) {\r\n        this._color = new SVG.Color({ r, g, b }).toHex();\r\n    }\r\n    fillRect(x, y, w, h) {\r\n        this._draw.rect(w, h).fill(this._color).move(x, y);\r\n    }\r\n    clearScreen() {\r\n        this._draw.clear();\r\n    }\r\n    drawImage(key, x, y) {\r\n        const img = this._imageMap.get(key);\r\n        if (img && img.complete) this._draw.image(img.src).move(x, y);\r\n    }\r\n    drawString(str, x, y) {\r\n        this._draw.plain(str).move(x, y).font({ fill: this._color, size: this._fontSize, family: this._fontFamily });\r\n    }\r\n\r\n    _onLoad() {\r\n        const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        svg.setAttribute(\"id\", \"gamecanvas\");\r\n        document.getElementsByTagName(\"body\").item(0).appendChild(svg);\r\n        this._draw = SVG.SVG(svg);\r\n        super._onLoad(svg);\r\n    }\r\n    _onResizeWindow() {\r\n        // this._width = this._draw.node.clientWidth;\r\n        // this._height = this._draw.node.clientHeight;\r\n    }\r\n}\r\n\r\nconst gc = new GameCanvas();\r\n\r\nclass Game extends GameBase {\r\n    constructor() {\r\n        super(gc);\r\n    }\r\n}\r\n\r\nexport { gc, Game as GameBase };\r\n"],"file":"gc-svg.js"}